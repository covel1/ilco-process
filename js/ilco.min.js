function initLoad(){smoothMove()}function smoothMove(){$(".slowmo").each(function(){$(this).on("click",function(e){e.preventDefault();var n=$(this).attr("href"),a=$(n).offset().top-72;$("html,body").animate({scrollTop:a},800)})})}$("#navbarResponsive").on("show.bs.collapse",function(e){$(".navbar-toggler").blur()}),$("#navbarResponsive").on("hide.bs.collapse",function(e){$(".navbar-toggler").blur()}),$("#navbarResponsive").on("shown.bs.collapse",function(e){addEventListener("click",function(){$("#navbarResponsive").collapse("hide")})}),$(document).ready(initLoad),function e(){$("#cvmp")[0].innerHTML='<div class="qzcontainer border"><div id="qztitle"><h2>scurt chestionar</h2><p>Răspunde la următoarele întrebări prin alegerea unei note între 1 si 5. "1" pentru cel mai puțin iar "5" pentru cel mai potrivit. Vei obține o indicație asupra cauzelor potențiale ale problemelor cu care te confrunți.</p> <button id="play" class="btn btn-success" type="button">START</button></div><div id="qzcontent"><div id="qst"></div><button id="down" data-way="down" class="btn btn-primary" type="button"><</button><button id="end" class="btn btn-danger" type="button">STOP</button><button id="up" data-way="up" class="btn btn-primary" type="button">></button></div><div id="qresults"><div id="qgrade"></div><div id="qexplain"></div></div></div>',$.ajax({url:"https://covel1.github.io/ilco-process/config.json",type:"get",dataType:"json",success:function(e){var n;s=(n=e).qrys,o=n.answrs,r=n.outcm,d=n.weights}});var s=[],o=[],r=[],d=[];var n=0,c=[],a=$("#play")[0],u=($(".qzcontainer")[0],$("#qzcontent")[0]),t=$.find("#qzcontent button"),l=t[0],b=t[2],p=t[1],v=$("#qst")[0],h=$("#qztitle")[0],y=$("#qgrade")[0],f=$("#qexplain")[0],g=$("#qresults")[0];p.style.display="none",y.style.display="none",f.style.display="none",a.addEventListener("click",function(){a.style.display="none",h.style.display="none",u.style.display="block",t.forEach(function(e){e.addEventListener("click",L)}),T(n),l.disabled=!0}),p.addEventListener("click",function(e){e.preventDefault(),u.style.display="none",p.style.display="none",f.style.display="inline";var n=0,a=0,t=0;for(m=0;m<r.length;m++)for(k=0;k<s.length;k++)for(j=0;j<o[k].length;j++)switch(m){case 0:n+=c[k][j]*d[m][k][j];break;case 1:a+=c[k][j]*d[m][k][j];break;case 2:t+=c[k][j]*d[m][k][j];break;default:console.log("ERROR")}n=q(n,2),a=q(a,2),t=q(t,2);var i=Math.max(n,a,t);if(n===a&&a===t)f.innerHTML="<h4>Cauza probabilă este "+r[0]+" și/sau "+r[1]+" și/sau "+r[2]+"<h4>";else if(n===a&&t<a)f.innerHTML="<h4>Cauza probabilă este "+r[0]+" și/sau "+r[1]+"<h4>";else if(n===a&&a<t)f.innerHTML="<h4>Cauza probabilă este "+r[2]+"<h4>";else if(a<n&&a===t)f.innerHTML="<h4>Cauza probabilă este "+r[0]+"<h4>";else if(n<a&&a===t)f.innerHTML="<h4>Cauza probabilă este "+r[1]+" și/sau "+r[2]+"<h4>";else if(n===t&&a<n)f.innerHTML="<h4>Cauza probabilă este "+r[0]+" și/sau "+r[2]+"<h4>";else if(n===t&&n<a)f.innerHTML="<h4>Cauza probabilă este "+r[1]+"<h4>";else switch(i){case n:f.innerHTML="<h4>Cauza probabilă este "+r[0]+"<h4>";break;case a:f.innerHTML="<h4>Cauza probabilă este "+r[1]+"<h4>";break;case t:f.innerHTML="<h4>Cauza probabilă este "+r[2]+"<h4>";break;default:console.log("sorting error")}var l=g.appendChild(document.createElement("I"));l.className="fa fa-repeat over",l.addEventListener("click",z)});var L=function(){var e=this.getAttribute("data-way");n<=s.length&&(b.style.display="inline-block"),"down"===e&&(p.style.display="none",T(--n)),l.disabled=0==n,"up"===e&&(c[n]&&c.splice(n,1),function(e){var n=[],a=document.querySelectorAll('[type="radio"]');for(i=0;i<a.length;i++)!0===a[i].checked&&n.push(a[i].value);c.splice(e,0,n)}(n),++n===s.length?(v.innerHTML='<h4 style="padding-top:30%">Puteți revedea răspunsurile sau încheia chestionarul</h4>',b.style.display="none",l.disabled=!1,p.style.display="inline-block"):(T(n),l.disabled=!1)),n==o.length?b.disabled=!0:b.disabled=!1};function T(e){for(v.innerHTML="<h4>"+s[e]+"</h4>",i=0;i<o[e].length;i++)if(void 0===c[e])v.innerHTML+=o[e][i]+'<div class="btn-group btn-group-toggle btn-group-lg" data-toggle="buttons"><label class="btn btn-secondary active">1<input type="radio" name=n'+i+' value=1 checked></label><label class="btn btn-secondary">2<input type="radio" name=n'+i+' value=2></label><label class="btn btn-secondary">3<input type="radio" name=n'+i+' value=3></label><label class="btn btn-secondary">4<input type="radio" name=n'+i+' value=4></label><label class="btn btn-secondary">5<input type="radio" name=n'+i+" value=5></label></div>";else{var n=c[e][i];v.innerHTML+=o[e][i]+M(n,i)}}function M(e,n){var a="";for(j=1;j<6;j++)j===parseInt(e,10)?a+='<label class="btn btn-secondary active">'+j+'<input type="radio" name=n'+n+" value="+j+" checked></label>":a+='<label class="btn btn-secondary">'+j+'<input type="radio" name=n'+n+" value="+j+"></label>";return'<div class="btn-group btn-group-toggle btn-group-lg" data-toggle="buttons">'+a}function z(){e()}function q(e,n){return Number(Math.round(e+"e"+n)+"e-"+n)}}();